<!doctype html>
<html lang="en">
	<head>
		<title>Dynamics 365 for operations design patterns</title>
		<meta charset="utf-8">
	</head>
	<body>

        //Singleton 
        
        public static SingletonTest instance()
        {
            SingletonTest   singleton;
            SysGlobalCache  globalCache = infolog.objectOnServer() ? appl.globalCache() : infolog.globalCache();
            ;

            if (globalCache.isSet(classStr(SingletonTest), 0))
                singleton = globalCache.get(classStr(SingletonTest), 0);
            else
            {
                singleton = new SingletonTest();
                infoLog.globalCache().set(classStr(SingletonTest), 0, singleton);
                appl.globalCache().set(classStr(SingletonTest), 0, singleton);
            }

            return singleton;
        }

	</body>
</html>